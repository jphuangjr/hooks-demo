{"ast":null,"code":"var _jsxFileName = \"/Users/joshuahuang/Desktop/hooks-demo/src/App.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\n\nclass Accordion extends React.Component {\n  static getItemId(index) {\n    return `accordion-item-${index}`;\n  }\n\n  constructor(props) {\n    super(props);\n    const {\n      activeItems\n    } = this.props;\n    this.state = {\n      activeElements: activeItems.length ? activeItems.map((item, index) => this.constructor.getItemId(index)) : []\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(id) {\n    let actives = this.state.activeElements;\n\n    if (this.props.exclusive) {\n      actives = [];\n\n      if (!this.state.activeElements.includes(id)) {\n        actives.push(id);\n      }\n\n      this.setState({\n        activeElements: actives\n      });\n    } else {\n      if (actives.includes(id)) {\n        actives = actives.filter(item => item !== id);\n      } else {\n        actives.push(id);\n      }\n\n      this.setState({\n        activeElements: actives\n      });\n    }\n  }\n\n  render() {\n    const {\n      children,\n      triggerSize,\n      ...otherProps\n    } = this.props;\n    return React.createElement(AccordionWrapper, Object.assign({}, otherProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.Children.map(children, (item, i) => {\n      const elemId = this.constructor.getItemId(i);\n      return React.cloneElement(item, {\n        active: this.state.activeElements.includes(elemId),\n        onClick: this.handleClick,\n        triggerSize,\n        elemId\n      });\n    }));\n  }\n\n}\n\nAccordion.propTypes = propTypes;\nAccordion.defaultProps = defaultProps;\nexport default Accordion;","map":{"version":3,"sources":["/Users/joshuahuang/Desktop/hooks-demo/src/App.js"],"names":["React","Accordion","Component","getItemId","index","constructor","props","activeItems","state","activeElements","length","map","item","handleClick","bind","id","actives","exclusive","includes","push","setState","filter","render","children","triggerSize","otherProps","Children","i","elemId","cloneElement","active","onClick","propTypes","defaultProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,OAAO,WAAP;;AAEA,MAAMC,SAAN,SAAwBD,KAAK,CAACE,SAA9B,CAAwC;AACtC,SAAOC,SAAP,CAAiBC,KAAjB,EAAwB;AACpB,WAAQ,kBAAiBA,KAAM,EAA/B;AACH;;AAEDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAkB,KAAKD,KAA7B;AACA,SAAKE,KAAL,GAAa;AACTC,MAAAA,cAAc,EAAEF,WAAW,CAACG,MAAZ,GACZH,WAAW,CAACI,GAAZ,CAAgB,CAACC,IAAD,EAAOR,KAAP,KAAiB,KAAKC,WAAL,CAAiBF,SAAjB,CAA2BC,KAA3B,CAAjC,CADY,GAEZ;AAHK,KAAb;AAKA,SAAKS,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AAEDD,EAAAA,WAAW,CAACE,EAAD,EAAK;AACZ,QAAIC,OAAO,GAAG,KAAKR,KAAL,CAAWC,cAAzB;;AACA,QAAI,KAAKH,KAAL,CAAWW,SAAf,EAA0B;AACtBD,MAAAA,OAAO,GAAG,EAAV;;AACA,UAAI,CAAC,KAAKR,KAAL,CAAWC,cAAX,CAA0BS,QAA1B,CAAmCH,EAAnC,CAAL,EAA6C;AACzCC,QAAAA,OAAO,CAACG,IAAR,CAAaJ,EAAb;AACH;;AACD,WAAKK,QAAL,CAAc;AAAEX,QAAAA,cAAc,EAAEO;AAAlB,OAAd;AACH,KAND,MAMO;AACH,UAAIA,OAAO,CAACE,QAAR,CAAiBH,EAAjB,CAAJ,EAA0B;AACtBC,QAAAA,OAAO,GAAGA,OAAO,CAACK,MAAR,CAAeT,IAAI,IAAIA,IAAI,KAAKG,EAAhC,CAAV;AACH,OAFD,MAEO;AACHC,QAAAA,OAAO,CAACG,IAAR,CAAaJ,EAAb;AACH;;AACD,WAAKK,QAAL,CAAc;AAAEX,QAAAA,cAAc,EAAEO;AAAlB,OAAd;AACH;AACJ;;AAEDM,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEC,MAAAA,QAAF;AAAYC,MAAAA,WAAZ;AAAyB,SAAGC;AAA5B,QAA2C,KAAKnB,KAAtD;AAEA,WACI,oBAAC,gBAAD,oBAAsBmB,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QACKzB,KAAK,CAAC0B,QAAN,CAAef,GAAf,CAAmBY,QAAnB,EAA6B,CAACX,IAAD,EAAOe,CAAP,KAAa;AACvC,YAAMC,MAAM,GAAG,KAAKvB,WAAL,CAAiBF,SAAjB,CAA2BwB,CAA3B,CAAf;AACA,aAAO3B,KAAK,CAAC6B,YAAN,CAAmBjB,IAAnB,EAAyB;AAC5BkB,QAAAA,MAAM,EAAE,KAAKtB,KAAL,CAAWC,cAAX,CAA0BS,QAA1B,CAAmCU,MAAnC,CADoB;AAE5BG,QAAAA,OAAO,EAAE,KAAKlB,WAFc;AAG5BW,QAAAA,WAH4B;AAI5BI,QAAAA;AAJ4B,OAAzB,CAAP;AAMH,KARA,CADL,CADJ;AAaH;;AAlDqC;;AAqDxC3B,SAAS,CAAC+B,SAAV,GAAsBA,SAAtB;AACA/B,SAAS,CAACgC,YAAV,GAAyBA,YAAzB;AAEA,eAAehC,SAAf","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nclass Accordion extends React.Component {\n  static getItemId(index) {\n      return `accordion-item-${index}`;\n  }\n\n  constructor(props) {\n      super(props);\n      const { activeItems } = this.props;\n      this.state = {\n          activeElements: activeItems.length ?\n              activeItems.map((item, index) => this.constructor.getItemId(index)) :\n              [],\n      };\n      this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(id) {\n      let actives = this.state.activeElements;\n      if (this.props.exclusive) {\n          actives = [];\n          if (!this.state.activeElements.includes(id)) {\n              actives.push(id);\n          }\n          this.setState({ activeElements: actives });\n      } else {\n          if (actives.includes(id)) {\n              actives = actives.filter(item => item !== id);\n          } else {\n              actives.push(id);\n          }\n          this.setState({ activeElements: actives });\n      }\n  }\n\n  render() {\n      const { children, triggerSize, ...otherProps } = this.props;\n\n      return (\n          <AccordionWrapper {...otherProps}>\n              {React.Children.map(children, (item, i) => {\n                  const elemId = this.constructor.getItemId(i);\n                  return React.cloneElement(item, {\n                      active: this.state.activeElements.includes(elemId),\n                      onClick: this.handleClick,\n                      triggerSize,\n                      elemId,\n                  });\n              })}\n          </AccordionWrapper>\n      );\n  }\n}\n\nAccordion.propTypes = propTypes;\nAccordion.defaultProps = defaultProps;\n\nexport default Accordion;\n\n"]},"metadata":{},"sourceType":"module"}